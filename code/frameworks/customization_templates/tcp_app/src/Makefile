#
# This file was generated by $CPP_ASSISTANT_ROOT/scripts/generate_makefile_from_cpp_assistant.sh on 2016/12/28.
# Edit the customized parts before it can be used.
# For more help, see documents in directory $CPP_ASSISTANT_ROOT/docs.
#

MAKEFILE_DIR = $(CPP_ASSISTANT_ROOT)/makefiles
DEFINES += $(MODULE_DEFINES) $(REQUIRED_DEFINES) -DHAS_CONFIG_FILES -DHAS_PROTOBUF \
	-DHAS_TCP -DACCEPTS_CLIENTS -DHAS_UPSTREAM_SERVERS -DENABLES_CHINESE -DVALIDATES_CONNECTION #-DMULTI_THREADING
DEFINES += -DUSE_JSON_MSG # Comment it if you use protobuf format messages, or uncomment it if you use json format messages.
ifdef IS_DISPATCHER
	DEFINES += -UMULTI_THREADING
endif
INCLUDES += $(REQUIRED_INCLUDES) -I./business -I./framework_public \
	$(addprefix -I$(USER_PROGRAM_ROOT)/, $(addsuffix /framework_core, $(SRC_CODE_DIRS))) \
	-I/usr/include/jsoncpp
CFLAGS += -O2 $(DEFINES) $(INCLUDES)
CXXFLAGS += -O2 $(DEFINES) $(INCLUDES)
LDFLAGS += $(REQUIRED_LDFLAGS)
SRCS_PUBLIC = $(shell find $(CPP_ASSISTANT_ROOT)/code/frameworks/framework_public/ -iname "*.c*" | grep -v "\.svn\|public_protocols")
SRCS_CORE = $(shell find $(CPP_ASSISTANT_ROOT)/code/frameworks/framework_templates/$(FRAMEWORK)/ -iname "*.c*" | grep -v "\.svn\|public_protocols")
SRCS += $(subst $(CPP_ASSISTANT_ROOT)/code/frameworks/framework_public,./framework_public,$(SRCS_PUBLIC))
SRCS += $(subst $(CPP_ASSISTANT_ROOT)/code/frameworks/framework_templates/$(FRAMEWORK),./framework_core,$(SRCS_CORE))
SRCS += $(shell find ./business/ -iname "*.c*" | grep -v "\.svn")
TARGET := tcp_server

include $(MAKEFILE_DIR)/basic_rules.mk
include $(MAKEFILE_DIR)/single_executive_template.mk

